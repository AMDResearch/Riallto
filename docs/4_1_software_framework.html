<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Exploratory Software Framework &mdash; AMD Riallto 1.0 documentation</title><link rel="icon" type="image/x-icon" href="_static/favicon.ico">
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/nbsphinx-code-cells.css" type="text/css" />
      <link rel="stylesheet" href="_static/./custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/./custom_page_width.css" type="text/css" /><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v3.0.0-rc.17/dist/cookieconsent.css">
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/documentation_options.js?v=2882ecd3"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
        <script src="_static/clipboard.min.js?v=a7894cd8"></script>
        <script src="_static/copybutton.js?v=f281be69"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@jupyter-widgets/html-manager@^1.0.1/dist/embed-amd.js"></script>
        <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
        <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script src="_static/js/jquery.js"></script>
    <script src="_static/cookie-consent.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Write your Own Kernel" href="4_2_write_your_kernel.html" />
    <link rel="prev" title="Multicast, broadcast, and multiple kernels in a single compute tile" href="3_5_Color_detect_example.html" /> 
</head>

<body class="wy-body-for-nav">

<!-- Google Tag Manager -->
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JK8T9PJNL0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-JK8T9PJNL0');
</script>
<!-- End Google Tag Manager --> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="index.html" class="icon icon-home"> AMD Riallto
          </a>
              <div class="version">
                1.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">Home</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Riallto overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="1_0_Introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="install-riallto.html">Install Riallto</a></li>
<li class="toctree-l1"><a class="reference internal" href="ryzenai_video_overview.html">Riallto Video Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="1_1_ryzenai.html">Ryzen AI Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="2_1_MS_Windows_Studio_Effects.html">Windows Studio Effects</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">NPU Architecture examples</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="3_1_Color_threshold_example.html">Loading your first example</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_2_Ryzenai_capabilities.html">Understanding columns and tiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_3_Scaled_color_threshold_example.html">Scaling applications to multiple compute tiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_4_Edge_detect_example.html">Optimizing data movement</a></li>
<li class="toctree-l1"><a class="reference internal" href="3_5_Color_detect_example.html">Multicasting and multiple kernels per tile</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Building applications</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Introduction to the Riallto software framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#Goals">Goals</a></li>
<li class="toctree-l2"><a class="reference internal" href="#References">References</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Riallto-Exploration-Framework">Riallto Exploration Framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Programming-the-NPU">Programming the NPU</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#AI-engine-software-kernel(s)">AI engine software kernel(s)</a></li>
<li class="toctree-l3"><a class="reference internal" href="#NPU-graph">NPU graph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Riallto-npu-Python-Package">Riallto <code class="docutils literal notranslate"><span class="pre">npu</span></code> Python Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#IPython-cell-magics">IPython cell magics</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#Structure-of-the-Riallto-NPU-package">Structure of the Riallto NPU package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#npu.build">npu.build</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu.lib">npu.lib</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu.utils">npu.utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="#npu.runtime">npu.runtime</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#MLIR-AIE">MLIR-AIE</a></li>
<li class="toctree-l2"><a class="reference internal" href="#Next-Steps">Next Steps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="4_2_write_your_kernel.html">Write your first kernel</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_3_kernels_with_runtime_parameters.html">Using Run Time Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_4_threshold_kernel_with_vector_ops.html">How to use the vector processor</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_5_describe_an_application.html">Describing an application</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_6_build_application.html">Building a complete application</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_7_using_the_memtile_in_your_applications.html">Using memory tiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="4_8_build_a_colorDetect_application.html">Reusing software kernels</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ryzen AI Machine Learning</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="5_1_pytorch_onnx_inference.html">Inference with PyTorch and ONNX</a></li>
<li class="toctree-l1"><a class="reference internal" href="5_2_pytorch_onnx_re-train.html">Re-training with PyTorch and ONNX</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Python Package</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">npu</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">FAQ</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Riallto FAQ</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Glossary</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Glossary.html">Glossary</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Appendix</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Appendix_Review_of_Image_Processing_Concepts.html">Review of Image Processing concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites-driver.html">Install the NPU driver</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites-aie-license.html">Get an AIE license</a></li>
<li class="toctree-l1"><a class="reference internal" href="prerequisites-wsl.html">Enable WSL</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: black" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">AMD Riallto</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Exploratory Software Framework</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="Exploratory-Software-Framework">
<h1>Exploratory Software Framework<a class="headerlink" href="#Exploratory-Software-Framework" title="Link to this heading">¶</a></h1>
<section id="Goals">
<h2>Goals<a class="headerlink" href="#Goals" title="Link to this heading">¶</a></h2>
<ul class="simple">
<li><p>Familiarize yourself with the capabilities of the Riallto exploration framework for creating NPU applications</p></li>
<li><p>Understand the Riallto <code class="docutils literal notranslate"><span class="pre">%%kernel</span></code> magic</p></li>
<li><p>Review the structure of the Riallto Python package including its most important modules and methods</p></li>
<li><p>Find out where to access documentation</p></li>
<li><p>Understand the services MLIR-AIE provides to Riallto</p></li>
</ul>
</section>
<section id="References">
<h2>References<a class="headerlink" href="#References" title="Link to this heading">¶</a></h2>
<p><a class="reference external" href="https://jupyterlab.readthedocs.io/en/latest/">JupyterLab</a></p>
<p><a class="reference external" href="https://xilinx.github.io/mlir-aie/">MLIR-AIE</a></p>
<p><a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux 2 (WSL 2)</a></p>
<p><a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html#built-in-magic-commands">Built-in magic commands</a></p>
<p><a class="reference external" href="https://www.riallto.ai/modules.html">Riallto NPU documentation</a></p>
<hr class="docutils" />
</section>
<section id="Riallto-Exploration-Framework">
<h2>Riallto Exploration Framework<a class="headerlink" href="#Riallto-Exploration-Framework" title="Link to this heading">¶</a></h2>
<p>In this section 4, you will learn how to develop applications for the NPU using the Riallto framework.</p>
<p>The Riallto exploration framework has two parts:</p>
<ul class="simple">
<li><p><strong>JupyterLab</strong></p>
<ul>
<li><p>Riallto uses <a class="reference external" href="https://jupyterlab.readthedocs.io/en/latest/">JupyterLab</a>, a browser-based, integrated development environment (IDE). Kernels for the compute tiles are written in C++. Using Riallto, you can use Python to build and test your application from a Jupyter notebook.</p></li>
</ul>
</li>
<li><p><strong>AIEtools</strong></p>
<ul>
<li><p>These are the compilation tools used to build the Ryzen AI NPU application.</p></li>
</ul>
</li>
</ul>
<p>The AIETools tools are Linux based. For Windows laptops, they run in <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/about">Windows Subsystem for Linux 2 (WSL 2)</a>. If you have installed Riallto and are reading this material on your laptop as a Jupyter notebook, WSL 2 should have been already installed and enabled on your system.</p>
<div class="alert alert-box alert-info"><p>To check that the WSL 2 instance, where the Riallto tools are installed, is enabled on your system, run the following cell:</p>
</div><div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">!</span>wsl<span class="w"> </span>-d<span class="w"> </span>Riallto<span class="w"> </span>cat<span class="w"> </span>/etc/os-release
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
NAME=&#34;Ubuntu&#34;
VERSION=&#34;20.04.3 LTS (Focal Fossa)&#34;
ID=ubuntu
ID_LIKE=debian
PRETTY_NAME=&#34;Ubuntu 20.04.3 LTS&#34;
VERSION_ID=&#34;20.04&#34;
HOME_URL=&#34;https://www.ubuntu.com/&#34;
SUPPORT_URL=&#34;https://help.ubuntu.com/&#34;
BUG_REPORT_URL=&#34;https://bugs.launchpad.net/ubuntu/&#34;
PRIVACY_POLICY_URL=&#34;https://www.ubuntu.com/legal/terms-and-policies/privacy-policy&#34;
VERSION_CODENAME=focal
UBUNTU_CODENAME=focal
</pre></div></div>
</div>
<p>The output of this cell should report the OS version where the ‘Riallto’ tools are installed. If you do not see this, or if you installed the <strong>Lite</strong> version of Riallto, please refer to the <a class="reference external" href="https://www.riallto.ai/install-riallto.html">Riallto installation instructions</a> to install the <strong>Full</strong> version of Riallto.</p>
<hr class="docutils" />
</section>
<section id="Programming-the-NPU">
<h2>Programming the NPU<a class="headerlink" href="#Programming-the-NPU" title="Link to this heading">¶</a></h2>
<p>To recap, the Ryzen AI NPU is a dataflow architecture. Data flows through a series of compute nodes within the NPU. Each node is assigned specific processing tasks. Data is directed only to the nodes where it is needed for computation.</p>
<center><p><img alt="74a962c96d07458eba69264b275f624e" src="_images/edge_detect_dfg.png" /></p>
</center><center><p>Example dataflow graph of the edge detection application</p>
</center><p>A Ryzen AI dataflow application consists of: * the software kernels that run on compute nodes * the NPU graph that defines the tile connectivity and the movement of data between the tiles</p>
<p>To build an application for the NPU, we need to create dataflow programs. A dataflow program effectively translates the application, as described by its dataflow graph, into code that can be compiled into an executable application for the NPU.</p>
<p>There are two main parts to a program that will run on the Ryzen AI NPU</p>
<section id="AI-engine-software-kernel(s)">
<h3>AI engine software kernel(s)<a class="headerlink" href="#AI-engine-software-kernel(s)" title="Link to this heading">¶</a></h3>
<p>AI Engine software kernels are the programs that run on the individual AI Engines in a compute tiles. You may choose to run one software kernel per compute tile. You could also distribute the execution of a single kernel across multiple compute tiles. A third option is to run multiple distinct kernels on individual tiles. And, of course, hybrid combinations of all three options are also valid.</p>
<p>The AIEcompiler tools used in Riallto support building of C/C++ software kernels for the AI Engine processors. Creating software kernels is similar to developing software for other (embedded) processors. There are special considerations you need to take into account when programming for the AI Engine to take advantage of the special features this processor supports. E.g., VLIW, SIMD, 512-bit data path, fixed-point and floating-point vector support. Notebooks in section 3 introduced these
features. In section 4 you will see how to write software kernels to use these features.</p>
</section>
<section id="NPU-graph">
<h3>NPU graph<a class="headerlink" href="#NPU-graph" title="Link to this heading">¶</a></h3>
<p>The notebooks in section 3 showed how dataflow graphs are used to represent NPU applications. Dataflow graphs are abstract graphical representations of an application. The NPU <em>graph</em> is similar in concept, but different to the dataflow graphs. The NPU graph is a detailed <em>programmatic</em> description of the connectivity between tiles and how data is moved in the array. It captures how the dataflow graph is mapped to the NPU array to create a <em>mapped</em> graph. It will be compiled into machine code
that is used to configure the NPU.</p>
<p>You will see how to write both kernels and graphs and how they are compiled to develop an application to run on the NPU.</p>
<hr class="docutils" />
</section>
</section>
<section id="Riallto-npu-Python-Package">
<h2>Riallto <code class="docutils literal notranslate"><span class="pre">npu</span></code> Python Package<a class="headerlink" href="#Riallto-npu-Python-Package" title="Link to this heading">¶</a></h2>
<p>The Riallto <code class="docutils literal notranslate"><span class="pre">npu</span></code> Python package contains:</p>
<ul class="simple">
<li><p>Methods to call the graph compiler</p></li>
<li><p>Methods to call the AI Engine compiler</p></li>
<li><p>Application builder</p></li>
<li><p>x86 memory buffer allocation</p></li>
<li><p>Methods to synchronize data between the CPU and NPU</p></li>
<li><p>Reusable graph templates</p></li>
<li><p>Special helper methods intended to be used in a Jupyter notebook to:</p>
<ul>
<li><p>Visualize the NPU application</p></li>
<li><p>Display NPU NumPy arrays as images</p></li>
</ul>
</li>
<li><p>%%kernel magic to build kernels from Jupyter Notebook code cells</p></li>
<li><p>Small library of example, reusable, image processing software kernels</p></li>
<li><p>ONNX support (covered in section 5)</p></li>
</ul>
<hr class="docutils" />
<section id="IPython-cell-magics">
<h3>IPython cell magics<a class="headerlink" href="#IPython-cell-magics" title="Link to this heading">¶</a></h3>
<p>You can write your kernel in two ways:</p>
<ul class="simple">
<li><p>By using a code editor to create a <code class="docutils literal notranslate"><span class="pre">.c</span></code> or <code class="docutils literal notranslate"><span class="pre">.cpp</span></code> source file, or</p></li>
<li><p>By writing the C/C++ source code in any Jupyter Notebook code cell that is annotated with a special Riallto <a class="reference external" href="https://ipython.readthedocs.io/en/stable/interactive/magics.html">IPython cell magic</a>.</p></li>
</ul>
<p>Jupyter notebooks use the Interactive Python (IPython) interpreter by default. IPython is a standard Python interpreter that has been extended with features to enhance programmer productivity. One of these is called a <em>cell magic</em>. We have defined our own Riallto cell magic called <code class="docutils literal notranslate"><span class="pre">%%kernel</span></code>.</p>
<p>When a code cell starts with <code class="docutils literal notranslate"><span class="pre">%%kernel</span></code>, all subsequent code in the cell will no longer be interpreted as regular Python code. Instead, it will be passed as input to the code handler we have written for <code class="docutils literal notranslate"><span class="pre">%%kernel</span></code>.</p>
<p>You can find more information about the Riallto <code class="docutils literal notranslate"><span class="pre">%%kernel</span></code> magic by running the following cell.</p>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">npu</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">?</span>%%kernel
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
<span class="ansi-red-intense-fg ansi-bold">Docstring:</span>
Specify a compute tile C++ kernel and return an npu.build.Kernel object.

This cell magic command allows users to input C++ kernel code within
a Jupyter notebook cell. It then returns a corresponding Kernel object
that can be compiled into an object file for use in a Riallto application.
The Cpp source must return a void type, input and output buffers are specified
as pointer types, as parameters are specified with non-pointer types.

Header files included in the directory where the notebook is are permitted.

Parameters
----------
cell : str
    The string content of the cell, expected to be C++ code defining
    the kernel.

Returns
-------
Kernel : object
    Returns a Kernel object that has the same name as the last function
    defined in the cell magic. See npu.build.Kernel.

Examples
--------
In a Jupyter notebook %%kernel cell


void passthrough(uint8_t *in_buffer, uint8_t* out_buffer, uint32_t nbytes) {
    for(int i=0; i&lt;nbytes; i++) {
        out_buffer[i] = in_buffer[i];

    }

}



This will construct a passthrough npu.build.Kernel object that can be used within
a callgraph to construct a complete application.
<span class="ansi-red-intense-fg ansi-bold">File:</span>      c:\users\riallto\appdata\local\programs\python\python39\lib\site-packages\npu\magic.py
</pre></div></div>
</div>
<hr class="docutils" />
</section>
</section>
<section id="Structure-of-the-Riallto-NPU-package">
<h2>Structure of the Riallto NPU package<a class="headerlink" href="#Structure-of-the-Riallto-NPU-package" title="Link to this heading">¶</a></h2>
<p>The main Riallto Python package is the <code class="docutils literal notranslate"><span class="pre">npu</span></code> package. The following section gives an overview of the key modules and user methods that you are used to build NPU applications in the next notebooks in this section. You can review the <a class="reference external" href="https://www.riallto.ai/modules.html">npu documentation</a> for more details on the NPU Python package or follow the links for modules below.</p>
<section id="npu.build">
<h3>npu.build<a class="headerlink" href="#npu.build" title="Link to this heading">¶</a></h3>
<p>Contains modules that will be used to build an application for the NPU.</p>
<ul>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#module-npu.build.appbuilder">npu.build.appbuilder</a></p>
<p>Used to build NPU applications from a high level description specified in the callgraph() method.</p>
<p><code class="docutils literal notranslate"><span class="pre">AppBuilder</span></code> builds the complete NPU application. This will create an MLIR .aie file <code class="docutils literal notranslate"><span class="pre">mlir.aie</span></code> file which is used as input for the MLIR-AIE compiler. When the process finishes, an <code class="docutils literal notranslate"><span class="pre">.xclbin</span></code> file and companion <code class="docutils literal notranslate"><span class="pre">.json</span></code> will be delivered.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">.xclbin</span></code> file is a container file that includes multiple binary files which include the NPU configuration and executables for a software kernels in the application. The <code class="docutils literal notranslate"><span class="pre">.json</span></code> contains application metadata that is used in Riallto to display information about the application and visualisations.</p>
<p>Selected user methods that will be used in section 4 examples:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build()</span></code> - builds the application</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callgraph()</span></code> - describes how the kernels are connected together and how data flows through them</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display()</span></code> - visualize how your application is mapped to the NPU</p></li>
</ul>
</li>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#module-npu.build.buffers">npu.build.buffers</a></p>
<p>Includes the methods to allocate buffers in external memory and configure the buffers for the NPU.</p>
</li>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#module-npu.build.kernel">npu.build.kernel</a></p>
<p>Includes the kernel object that can be used to build a software kernel for an AI Engine processor.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">build()</span></code> calls the AI engine compiler to build the software kernel</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">to_cpp()</span></code> converts to cpp</p></li>
</ul>
<p>You can also readback source code from the kernel object, view the object file and display the kernel.</p>
</li>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#module-npu.build.itkernel">npu.build.itkernel</a></p>
<p>Includes methods for managing read and writes from the interface tile to and from external memory.</p>
</li>
</ul>
</section>
<section id="npu.lib">
<h3>npu.lib<a class="headerlink" href="#npu.lib" title="Link to this heading">¶</a></h3>
<p>Contains a small library of example applications, and example image processing software kernels. Most of the example applications are used in section 3 and include the color detect, color threshold examples and variations, edge detect and denoise examples.</p>
<p>Software kernels include functions that are used to make up the examples mentioned previously. E.g., <code class="docutils literal notranslate"><span class="pre">rgba2gray</span></code> and <code class="docutils literal notranslate"><span class="pre">rgb2hue()</span></code> are reusable software kernels that do color conversion used in the example applications. Other software kernels (e.g. <code class="docutils literal notranslate"><span class="pre">filter2d()</span></code>, <code class="docutils literal notranslate"><span class="pre">median()</span></code> and bitwise functions) are used to process data in the example applications. You can include the provided software kernels in your own custom applications.</p>
<p>For a list of applications and kernels, <code class="docutils literal notranslate"><span class="pre">aiekernels()</span></code> and <code class="docutils literal notranslate"><span class="pre">videoapps()</span></code> below in <code class="docutils literal notranslate"><span class="pre">npu.utils</span></code> to list available kernels and applications or review the <a class="reference external" href="https://www.riallto.ai/npu.lib.html">npu.lib documentation</a></p>
</section>
<section id="npu.utils">
<h3>npu.utils<a class="headerlink" href="#npu.utils" title="Link to this heading">¶</a></h3>
<p>Includes useful utilities for developing applications.</p>
<ul>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#npu.utils.nputop">npu.utils.nputop()</a></p>
<p>Provides information about applications currently running on the NPU. This command can be run standalone</p>
</li>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.build.html#npu.utils.aiekernels">npu.utils.aiekernels()</a></p>
<p>Returns a list of software kernels in the Riallto kernel library</p>
</li>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.utils.html#module-npu.utils.videoapps">npu.utils.videoapps()</a></p>
<p>Returns a list of video application examples available in the Riallto applications library</p>
</li>
</ul>
</section>
<section id="npu.runtime">
<h3>npu.runtime<a class="headerlink" href="#npu.runtime" title="Link to this heading">¶</a></h3>
<p>Loads applications from an xclbin file to the NPU, synchronizes data, and visualizes the application.</p>
<ul>
<li><p><a class="reference external" href="https://www.riallto.ai/npu.runtime.html#module-npu.runtime.apprunner">npu.runtime.apprunner</a></p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">sync_{to|from}_npu</span></code> - manage data synchronization between the x86 and NPU as they are not cache coherent</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">call()</span></code> - configure the NPU and load individual software kernels to the compute tile. After the completion of this method, the application will be running on the NPU</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">display()</span></code> - displays a visualization of the application mapped to the NPU array</p></li>
</ul>
<p>Also included are methods for building widgets to controller the RunTime parameters:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rtpwidgets()</span></code> - helper function to build user widgets</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rtpsliders()</span></code> - automatically generate slider widgets for any RunTime Parameters</p></li>
</ul>
</li>
</ul>
<hr class="docutils" />
</section>
</section>
<section id="MLIR-AIE">
<h2>MLIR-AIE<a class="headerlink" href="#MLIR-AIE" title="Link to this heading">¶</a></h2>
<p>The MLIR-AIE toolchain is part of what we described above as the <em>AIEtools</em> used by Riallto.</p>
<p>The <a class="reference external" href="https://xilinx.github.io/mlir-aie/">MLIR-AIE compiler</a> is an open-source research project from the Research and Advanced Development group (RAD) at AMD. This project is primarily intended to support tool builders with convenient low-level access to devices and enable the development of a wide variety of programming models from higher level abstractions.</p>
<p>The input to the MLIR-aie compiler is an MLIR intermediate representation that will be generated by the <strong>Riallto</strong> framework as an MLIR source file. You will see more on this file format later.</p>
<p>If you would like to explore the capabilities of the NPU beyond the application patterns of this framework, we recommend you use MLIR-AIE directly.</p>
<hr class="docutils" />
</section>
<section id="Next-Steps">
<h2>Next Steps<a class="headerlink" href="#Next-Steps" title="Link to this heading">¶</a></h2>
<p>In the next notebooks, we will guide you through the process of creating custom software kernels using a pre-configured graph to generate an application. Then, we describe how to build your custom dataflow graph by using the Riallto <code class="docutils literal notranslate"><span class="pre">AppBuilder</span></code> and a set of optimized software kernels from the Riallto library.</p>
<hr class="docutils" />
<center><p>Copyright© 2023 AMD, Inc</p>
</center><center><p>SPDX-License-Identifier: MIT</p>
</center><script type="application/vnd.jupyter.widget-state+json">
{"state": {}, "version_major": 2, "version_minor": 0}
</script></section>
</section>


           </div>
          </div>
          
				  
				  <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="3_5_Color_detect_example.html" class="btn btn-neutral float-left" title="Multicast, broadcast, and multiple kernels in a single compute tile" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="4_2_write_your_kernel.html" class="btn btn-neutral float-right" title="Write your Own Kernel" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, Advanced Micro Devices, Inc.
      <span class="lastupdated">Last updated on January 17, 2024.
      </span></p>
  </div>



										<div class="aem-Grid aem-Grid--16">
											<div class="aem-GridColumn aem-GridColumn--xxxlarge--none aem-GridColumn--xsmall--16 aem-GridColumn--offset--xsmall--0 aem-GridColumn--xlarge--none aem-GridColumn--xxlarge--none aem-GridColumn--default--none aem-GridColumn--offset--large--1 aem-GridColumn--xlarge--12 aem-GridColumn--offset--default--0 aem-GridColumn--xxlarge--10 aem-GridColumn--offset--xlarge--2 aem-GridColumn--offset--xxlarge--3 aem-GridColumn--offset--xxxlarge--4 aem-GridColumn--xsmall--none aem-GridColumn--large--none aem-GridColumn aem-GridColumn--large--14 aem-GridColumn--xxxlarge--8 aem-GridColumn--default--16">
												<div class="container-fluid sub-footer">

													                    <div class="row">
                        <div class="col-xs-24">
                          <p><a target="_blank" href="https://www.amd.com/en/corporate/copyright">Terms and Conditions</a> | <a target="_blank" href="https://www.amd.com/en/corporate/privacy">Privacy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/cookies">Cookie Policy</a> | <a target="_blank" href="https://www.amd.com/en/corporate/trademarks">Trademarks</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/statement-human-trafficking-forced-labor.pdf">Statement on Forced Labor</a> | <a target="_blank" href="https://www.amd.com/en/corporate/competition">Fair and Open Competition</a> | <a target="_blank" href="https://www.amd.com/system/files/documents/amd-uk-tax-strategy.pdf">UK Tax Strategy</a> | <a target="_blank" href="https://docs.xilinx.com/v/u/9x6YvZKuWyhJId7y7RQQKA">Inclusive Terminology</a> | <a href="#cookiessettings" class="ot-sdk-show-settings">Cookies Settings</a></p>
                        </div>
                    </div>
												</div>
											</div>
										</div>
										
</br>


  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div id="cookie-consent" class="cookie-consent">
    <p>This website uses cookies to ensure you get the best experience on our website. <a href="#" id="cookie-accept">Accept</a> | <a href="#" id="cookie-reject">Reject</a></p>
</div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>